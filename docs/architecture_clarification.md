# 项目架构说明文档

## 技术栈统一说明

经过重新整理，本项目的技术栈如下：

### 运行环境划分

-   **本地运行**: 前端(React)、后端(FastAPI)、SQLite 数据库
-   **Docker 容器**: Elasticsearch、Redis

### 数据存储方案

1. **SQLite (本地文件)**

    - 用户信息和认证数据
    - 搜索历史记录
    - 用户偏好设置
    - 点击行为日志

2. **Elasticsearch (Docker 容器)**

    - 网页内容索引
    - 文档元数据索引
    - 全文搜索功能

3. **Redis (Docker 容器)**
    - 查询结果缓存
    - 用户会话存储
    - 爬虫分布式队列
    - API 限流控制

## 修正的问题

1. **数据库选择统一**: 移除了文档中对 MongoDB 的引用，统一使用 SQLite 作为关系型数据存储
2. **Redis 用途明确**: 明确了 Redis 的四个主要用途
3. **架构图更新**: 在架构图中添加了 Redis，并标明了 Docker 容器
4. **部署方案清晰**: 创建了 docker-compose.yml 文件，明确了哪些服务在容器中运行

## 优势说明

这种混合部署方案的优势：

-   **开发便利**: 前后端本地运行，便于调试和热重载
-   **数据持久**: SQLite 本地文件，重启容器不会丢失用户数据
-   **资源隔离**: ES 和 Redis 在容器中，避免污染本地环境
-   **扩展性**: 容器化的服务便于后续迁移到生产环境
